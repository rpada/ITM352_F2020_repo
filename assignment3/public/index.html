  <script src="./products.js" type="text/javascript"></script>
  
 
<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        .topnav {
      overflow: hidden;
      background-color: pink;
    }
    
    .topnav a {
      float: left;
      color: #f2f2f2;
      text-align: center;
      padding: 14px 16px;
      text-decoration: none;
      font-size: 17px;
    } /* Changes color on hover*/
     </style>
     </head><!--/head-->
     <body>
         <div class="header-middle"><!--header-middle-->
             <div class="container">
                 <div class="row">
                         <div class="btn-group pull-right clearfix">
                             <div class="btn-group">
                                 <h1>Rianne's Handmade Earrings</h1>
                                 </button>
                             </div>
                         </div>
                     </div>
    <script> //made with help from oder page ex4
        //made with help from w3schools.com 
        function getCookie(cname) {
            var name = cname + "=";
            var decodedCookie = decodeURIComponent(document.cookie); //decodes cookie
            var ca = decodedCookie.split(';'); 
            for (var i = 0; i < ca.length; i++) { 
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        };

        //ensures postive intengers 
        function isNonNegInt(q, return_errors = false) { 
            errors = []; // assume no errors at first
            if (q == "") q = 0; //blank inputs are 0
            if (Number(q) != q) errors.push('<font color="red">Not a number</font>'); //sees if string is a number
            if (q < 0) errors.push('<font color="red">Negative number</font>'); //ensures it is non-negative
            if (parseInt(q) != q) errors.push('<font color="red">Not a full product</font>'); //sees if it is a full number
            return return_errors ? errors : (errors.length == 0); //gives errors if there are some 
        }

        function checkQuantityTextbox(theTextbox) { //gives error message with invalid input 
            errs = isNonNegInt(theTextbox.value, true); //sets variable 'errs'
            document.getElementById(theTextbox.name + '_message').innerHTML = errs.join(", "); //setting it to error message 
        }

        window.onload = function () { //page is loaded before function 
            let params = (new URL(document.location)).searchParams; //retrieves the query string for the data 

            if (params.has('purchase_submit_button')) { //checks that quantites are valid
                errors = false; //assumes no errors 
                total_qty = 0; //must check if something was selected (>0)

                for (i = 0; i < allProducts[product].length; i++) { //this is for every product

                    if (params.has(`quantity_textbox${i}`)) { // check textbox for numbers 
                        qty = params.get(`quantity_textbox${i}`); //get the value for quantity_textbox and makes it sticky 
                        quantity_form[`quantity_textbox${i}`].value = qty; //setting to variable qty 
                        total_qty += qty; // adds the most recent textboxes 

                        if (!isNonNegInt(qty)) { //if it was not valid 
                            errors = true; 
                            checkQuantityTextbox(quantity_form[`quantity_textbox${i}`]); //returns error message 
                        }

                    }

                }

                if (errors) { //responds or redirects to invoice 
                    alert("Please enter valid product amounts");
                } else if (total_qty == 0) { //must select some products 
                    alert("Please select a product before submitting your purchase order");
                }

            }

        }

    </script>

</head>
<div class="topnav"> 
    <a class="active" href="./index.html">Home</a> 
    <a class="active" href="./all.html">All</a> 
    <a href="./tvmovie.html">TV, Movies and Music</a> 
    <a href="./videogame.html">Video Game</a> 
    <a href="./holidays.html">Holidays</a>
    <a href="./objectfood.html">Objects and Food</a> 
    <script>
        function getCookie(cname) {
  var name = cname + "=";
  var decodedCookie = decodeURIComponent(document.cookie);
  var ca = decodedCookie.split(';');
  for(var i = 0; i <ca.length; i++) {
    var c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}
var username = getCookie('username');
console.log(username);
if (username != ""){
    document.write(`<a href="./logout">Logout ${username}</a>`);
} else {
    document.write(`<a href="./login">Login</a>`);
}
    </script><a href="./cart.html"><script>
                        var cart = sessionStorage.length;
                                    if (cart > 0) {
                                        document.write(`
                                            <p><font color="#555f66"> Shopping Cart </font> <font color="#629DD1">(${cart})</font></p>
                                        `)
                                    }
                                    else {
                                        document.write (`<p> <font color="#555f66"> Shopping Cart </font> </p> `)
                                    };
                    </script></a>
            </div>
        </header>

        <head>
      
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
            <meta name="description" content="" />
            <meta name="author" content="" />
            <title>Welcome</title>
            <link rel="icon" type="image/x-icon" href="" />
            <!-- Font Awesome icons (free version)-->
            <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" crossorigin="anonymous"></script>
            <!-- Google fonts-->
            <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
            <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
            <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
            <!-- Core theme CSS (includes Bootstrap)-->
            <link href="css/styles.css" rel="stylesheet" />
        </head>
    <!-- One -->
    <body id="page-top">
     
    <div align="center">
            <script>
                var theUser = getCookie('name'); 
                var theUsername = getCookie('username'); 
                var email = getCookie('email'); 
                var lastVisited = getCookie('last_login_time'); 
                if (theUsername != '') { 
                    document.write(`
                        <p> Welcome <font color="#629DD1">${theUsername}!</font></a> <p> 
                    `)
                };
                var cart = sessionStorage.length;
                                if (cart > 0) {
                                    console.log(
                                        cart
                                    )
                                };
            </script>

        </section>

</div>
        <!-- Navigation-->
    
        <!-- Masthead-->
        <div style="text-align:center">  
                <br><img src="https://i.ibb.co/gt5Fy5H/source.gif" alt="source" width="350px" lenth="350px"><br><br>
                <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="/all.html">Click here to enter store</a><br>
           </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <!-- Contact form JS-->
    </body>
</html>	
     
<div style="text-align:center"> 
    <script>
        var theUser = getCookie('name'); 
        var theUsername = getCookie('username'); 
        var email = getCookie('email'); 
        var lastVisited = getCookie('last_login_time'); 
        if (theUsername != '') { 
            document.write(`
                <p>Last log-in: <font color="#629DD1">${lastVisited}</font></p>
            `)
        };
        var cart = sessionStorage.length;
                        if (cart > 0) {
                            console.log(
                                cart
                            )
                        };
    </script>

</section>

</div>
</body>

</html>