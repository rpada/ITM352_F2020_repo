<!-- Author: Kiara Furutani 
 This file contains code to display the first shopping Page -->

 <script src="./product_data.js" type="text/javascript"></script>

 <script>
     // Taken from my Lab13
     function checkQuantityTextbox() {
         errors_array = isNonNegInt(quantity_textbox.value, true);
         qty_textbox_message.innerHTML = errors_array.join(' ');
     }
     function isNonNegInt(q, returnErrors = false) {
         errors = []; // assume no errors at first
         if (Number(q) != q) errors.push('Not a number!'); // Check if string is a number value
         if (q < 0) errors.push('Negative value!'); // Check if it is non-negative
         if (parseInt(q) != q) errors.push('Not an integer!'); // Check that it is an integer
         return returnErrors ? errors : (errors.length == 0);
     }
 
     // Get the query string values from form submission
     let params = (new URL(document.location)).searchParams;
     GET = {};
     params.forEach(function (value, key) { GET[key] = value });
 </script>
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
 <html lang="en">
 
 <head>
     <meta http-equiv="content-type" content="text/html; charset=UTF-8">
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <title>Succulent Shop</title>
     <link rel="stylesheet" href="style.css">
     <link href="https://fonts.googleapis.com/css?family=Open+Sans|Raleway" rel="stylesheet">
 
 </head>
     <h3><a href="index.html">Home</a></h3>
 
 <header>
     <div>
         
 
         <h1>Most Popular</h1>
 
         <h3> NOTE: All plants are sold in sets of 4 </h3>
     </div>
 </header>
 
 <body>
     <form name="quantity_form" action="/process_form" method="POST">
         <main>
             <script>
                 // Generating variables for items --> Taken from Assignment 1 example
                 // Prints product details according to product_data.js
                 for (i = 0; i < popular_products.length; i++) {
                     document.write(` 
                     <section class="SucculentShop">
               <h2>${popular_products[i]["succulent"]}</h2>
               <p>\$${popular_products[i]["price"]}</p>
     <img class="img" src="${popular_products[i]["image"]}">
     <br>
               <label id="quantity"}"><b>Add to Cart:</b></label>
              
               <input id="qty_textbox_message" type="text" placeholder="Enter a quantity" name="quantity${i}" onkeyup="checkQuantityTextbox(this);"> 
             
               </section>
               
             `);
                 }
             </script>
         </main>
         </div>
         <!--Taken from Lab 13 -->
         <!-- Creates button to click once ready to move on to login and invoice pages -->
         <div id="buyButton">
             <br>
             <input class="buybutton" name="purchase_submit_button" type="submit" value="Purchase">
         </div>
     </form>
     <!-- Creates button to naviage to the next products page -->
     <div id="nextbutton">
         <a href="./products_display2.html"><button class="nextbutton">Next Page</button></a>
     </div>
     <div id="loginbutton">
         <a href="./login_display.html"><button class="loginbutton">Login</button></a>
     </div>
     <div id="registerbutton">
         <a href="./registration_display.html"><button class="registerbutton">Register</button></a>
     </div>
     <div id="cartbutton">
         <a href="./shopping_cart.html"><button class="cartbutton">View Cart</button></a>
     </div>
 </body>
 <br>
 <br>
 <footer>
     <p>Copyright 2020 Kiara Furutani<p>
             <!-- For legal purposes and protection for creator -->
 </footer>
 
 </html>