<!--Rianne Pada-->
<!--Page that allows users to make an account and access invoice-->
<script src="user_registration_info.json" type="text/javascript"></script> <!--using this JSON file. registration info goes into file-->
<script>
  // REFERENCED FROM DANIEL PORT
  let params = (new URL(document.location)).searchParams; // "searches params" in the URL ie quantity data
  window.onload = function () {
    if (params.has("RegFullnameError")) { //the RegFullnameError variable from the server
      regError = params.get("RegFullnameError"); //get the errors from the query and store into variable
      nameLong = '<font color="red">Full Name must be 30 characters or less</font>'; //error message on screen, assgined to variable
      nameNoLetter = '<font color="red">Full Name must be letters only</font>'; //assigns same error message into a variable
      if (regError == nameLong) { //if the error received is the same as the error stored in the variable
        document.getElementById("regfullname").innerHTML = regError; //set inner html to display the register error
      }
      if (regError == nameNoLetter) { //if the error received is the same as the error stored in the variable
        document.getElementById("regfullname").innerHTML = regError; //set inner html to displayn the register error
      }
    }

    if (params.has("RegPasswordError")) { //if has RegPasswordError from server 
      regError2 = params.get("RegPasswordError"); //get the errors from the query and store into variable
      passNoMatch = '<font color="red">Password DOES NOT Match</font>'; //error message on screen, assgined to variable
      passLength = '<font color="red">Password must be at least six characters</font>'; //error message on screen, assgined to variable
      if (regError2 == passLength) { //if the error received is the same as the error stored in the variable
        document.getElementById("regpassword").innerHTML = regError2; //set inner html to displayn the register error
      }
      if (regError2 == passNoMatch) { //if the error received is the same as the error stored in the variable
        document.getElementById("regrepeatpassword").innerHTML = regError2; //set inner html to displayn the register error
      }
    }

    if (params.has("RegUsernameError")) { //if has RegUsernameError from query 
      regError3 = params.get("RegUsernameError"); //get the errors from the query and store into variable
      useNumLet = '<font color="red">Username must be characters and numbers only</font>'; //assigns same error into a variable
      useLong = '<font color="red">Username must be ten characters or less</font>'; //assigns same error into a variable
      useShort = '<font color="red">Username must be at least four characters</font>'; //assigns same error into a variable
      useTaken = '<font color="red">User already registered</font>'; //assigns same error into a variable
      if (regError3 == useNumLet) { //if the error received is the same as the error stored in the variable
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
      if (regError3 == useLong) { //if the error received is the same as the error stored in the variable
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
      if (regError3 == useShort) { //if the error received is the same as the error stored in the variable
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
      if (regError3 == useTaken) {
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
    }

    if (params.has("RegEmailError")) { //if has RegEmailError from query
      regError4 = params.get("RegEmailError"); //get the errors from the query and store into variable
      emailInvalid = '<font color="red">Email is invalid</font>'; //assigns same error into a variable
      if (regError4 == emailInvalid) { //if the error received is the same as the error stored in the variable
        document.getElementById("regemail").innerHTML = regError4; //set inner html to displayn the register error
      }
    }

    if (params.has("stickRegFullname")) { //if has stickRegFullname
      showRegFullname = params.get("stickRegFullname"); //get the info from the query and store into variable
      document.getElementById("regfullnamebox").value = showRegFullname; //sets the value to the inoput of the useer
    }

    if (params.has("stickUsername")) { //if has stickRegFullname
      showUsername = params.get("stickUsername"); //get the info from the query and store into variable
      document.getElementById("regusernamebox").value = showUsername; //sets the value to the input of the user
    }

    if (params.has("stickEmail")) { //if has stickEmail
      showEmail = params.get("stickEmail"); //get the info from the query and store into variable
      document.getElementById("regemailbox").value = showEmail; //set the value to the input of the user
    }
  } 
</script>
<!--REFERENCED https://www.w3schools.com/howto/howto_css_register_form.asp FOR REGISTER FORM TEMPLATE-->
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Register</title> <!--Name that appears on tab -->
  <link rel="stylesheet" href="register.css"> <!--style sheet for page-->
  <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Concert+One&display=swap" rel="stylesheet"> <!--Font by google fonts-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" charset="utf-8"></script>
</head>

<body>
  <div class="white-box"> <!--https://stackoverflow.com/questions/41560946/adding-a-white-box-for-content-over-a-background-image-->
 <!--REFERENCED FROM W3 SCHOOLS https://www.w3schools.com/howto/howto_css_register_form.asp-->
  <form id="register_form" class="register-form" method="POST"> <!--form, when button is pushed it POSTS "register_form"-->
    <div style="text-align:center">  
    <h1>Register</h1> <!--Title-->
    <label for="fullname"><b>Full Name</b></label> <!--Label above form box-->
    <div class="txtb">
      <div style="text-align:center">  
      <input id="regfullnamebox" type="text" name="fullname" placeholder= "Full Name" required> <!--textbox-->
    </div>
    <div id="regfullname"></div>
    <br>
    <label for="username"><b>Username</b></label> <!--Label above form box-->
    <div style="text-align:center">  
    <div class="txtb">
      <input id="regusernamebox" type="text" name="username" placeholder="Username" required> <!--textbox-->
    </div>
    <br>
    <label for="email"><b>Email</b></label><!--Label above form box-->
    <div id="regusername"></div>
    <div style="text-align:center">  
    <div class="txtb">
      <input id="regemailbox" type="text" name="email" placeholder="Email" required> <!--textbox-->
      <span data-placeholder="Email"></span>
    </div>
    <br>
    <label for="password"><b>Create Password</b></label><!--Label above form box-->
    <div id="regemail"></div>
    <div style="text-align:center">  
    <div class="txtb">
      <input type="password" name="password" Placeholder="Password" required><!--textbox-->
      <span data-placeholder="Password"></span>
    </div>
    <br>
    <label for="repeat_password"><b>Confirm your password</b></label><!--Label above form box-->
    <div id="regpassword"></div>
    <div style="text-align:center">  
    <div class="txtb">
      <input type="password" name="repeat_password" Placeholder="Confirm Password" required><!--textbox-->
      <span data-placeholder="Confirm Password"></span>
    </div>
    <br>
    <div id="regrepeatpassword"></div>
    <br>
    <div style="text-align:center">  
    <input name="register_submit_button" type="submit" class="logbtn" value="Sign-up"><!--Submit button-->
  </form>
<h4>You must register or login in order to access your invoice!</h4> <!--Reminding users they need to register or login, message on registration page-->
</div>
</body>

</html>
<script>
 //REFERENCED FROM DANIEL PORT'S ASSIGNMENT 2 WORKSHOP, 11/19
 //Carries quantity data into the POST action "/register_form" putting the data onto the invoice
  register_form.action = "/register_form" + document.location.search;
</script>
